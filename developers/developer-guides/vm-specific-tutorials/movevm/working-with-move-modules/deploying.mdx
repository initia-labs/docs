---
title: Deploying Modules
---

Once you have compiled your module, you can deploy it to the network.

To do so, you can use the following command:

<CodeGroup>
```bash Initia L1
initiad tx move publish ./build/movevm/bytecode_modules/hello_world.mv \
--from example \
--chain-id initiation-2 \
--node https://rpc.testnet.initia.xyz \
--gas-prices 0.015uinit \
--upgrade-policy COMPATIBLE
```
```bash Rollups
minitiad tx move publish ./build/movevm/bytecode_modules/hello_world.mv \
--from example \
--chain-id initiation-2 \
--node https://rpc.testnet.initia.xyz \
--gas-prices 0.015uinit \
--upgrade-policy COMPATIBLE
```
```ts InitiaJS
import { isTxError, MnemonicKey, MsgPublish, RESTClient, Wallet } from '@initia/initia.js'
import fs from 'fs'
import path from 'path'

// Configuration
const RPC_URL = 'https://rest.testnet.initia.xyz'
const MNEMONIC = ''                                 // Replace with your mnemonic
const MODULE_NAME = 'hello_world'

function buildDeployMessage(wallet: Wallet, moduleName: string): MsgPublish {
  // Path to your compiled module
  const modulePath = path.join(__dirname, `./build/movevm/bytecode_modules/${MODULE_NAME}.mv`)

  // Read and encode the module bytecode
  const moduleBytes = fs.readFileSync(modulePath).toString('base64')

  // Create publish message with COMPATIBLE upgrade policy
  return new MsgPublish(
    wallet.key.accAddress,
    [moduleBytes],
    MsgPublish.Policy.COMPATIBLE
  )
}

async function deployModule() {
  try {
    // Initialize wallet
    const wallet = new Wallet(
      new RESTClient(RPC_URL, { gasPrices: '0.015uinit' }),
      new MnemonicKey({ mnemonic: MNEMONIC })
    )

    console.log(`üöÄ Deploying module from address: ${wallet.key.accAddress}`)

    // Build deployment message
    const deployMsg = buildDeployMessage(wallet, MODULE_NAME)

    // Create and sign transaction
    const signedTx = await wallet.createAndSignTx({
      msgs: [deployMsg],
      gasAdjustment: 1.5
    })

    // Broadcast transaction
    const result = await wallet.rest.tx.broadcast(signedTx)

    if (isTxError(result)) {
      console.error(`‚ùå Deployment failed (code ${result.code}):`, result.raw_log)
    } else {
      console.log(`‚úÖ Module deployed successfully!`)
      console.log(`Transaction hash: ${result.txhash}`)
    }
  } catch (error) {
    console.error('‚ùå Deployment error:', error)
  }
}

// Execute deployment
deployModule().catch(console.error)
```
</CodeGroup>

where the `--upgrade-policy` flag sets the [upgrade policy](https://aptos.dev/en/build/smart-contracts/book/package-upgrades) for the module. This can either be

- `COMPATIBLE`: The module can be upgraded to a new version that is compatible with the old version.
- `IMMUTABLE`: The module cannot be upgraded.

If the module is deployed successfully, your module will now live under the address you specified in the `Move.toml` file.
