---
title: Fetching Data
---

You can use the Initia `LCDClient` to get on-chain data using a variety of helper functions. Hereâ€™s an example showing how to fetch common data you may need in your application.

# LCD Client

The LCD (Light Client Daemon) class enables easy interactions with the Initia L1 and all Minitias such as Milkyway, Blackwing and more.

```typescript
import { LCDClient } from '@initia/initia.js'

const lcd = new LCDClient('https://lcd.[chain-id].initia.xyz', {
    chainId: '[chain-id]',
    gasPrices: '0.15uinit', // default gas prices
    gasAdjustment: '2.0',   // default gas adjustment for fee estimation
})
```

<Note> Adjust gasPrices and gasAdjustment according to current [network](/resources/developer/networks) conditions for optimal transaction processing. </Note>

# VM-agnostic Queries

VM-agnostic queries are queries that can be used across all VMs.

- `balance()` : query the balance of an account
```typescript
const balances = await lcd.bank.balance('init14l3c2vxrdvu6y0sqykppey930s4kufsvt97aeu')
```
- `blockInfo()`: query the block information
```typescript
const blockInfo = await lcd.tendermint.blockInfo(10000) // If no height is given, the latest block is returned. 
```
- `txInfo()`: query the transaction information
```typescript
const txInfo = await lcd.tx.txInfo('6DFEE8E4BFC38341E8AADBD74A23588D8DE94FA38052CB5721DDA780A24F8B1D')
```
- `price()`: query the oracle price
```typescript
const currenyPair = new CurrencyPair('BTC', 'USD')
const price = await lcd.oracle.price(currenyPair)
```

# VM-specific Queries

{/* TODO: Move these example to vm-specific tutorials and link them */}

## MoveVM

- `viewfunction()`: query the move contract view functions

```typescript
// `object.move`
// 
// #[view]
// public fun owner<T: key>(object: Object<T>): address acquires ObjectCore {
//     ...
// }

const res = await lcd.move.viewFunction(
    '0x1',                                               // owner of the module
    'object',                                            // name of the module
    'owner',                                             // function name
    ["0x1::object::ObjectCore"],                         // type arguments
    [
        bcs.object().serialize('0xc4f0b3c2300c99b0d7717ce43cd76821407a34c79587542919876a8c241a2f94').toBase64(),
    ]                                                    // arguments
)
```
- `viewJSON()`: query the move contract view functions with JSON arguments
```typescript
const res = await lcd.move.viewJSON(
    '0x1',                                               // owner of the module
    'object',                                            // name of the module
    'owner',                                             // function name
    ["0x1::object::ObjectCore"],                         // type arguments
    [
        `"0xc4f0b3c2300c99b0d7717ce43cd76821407a34c79587542919876a8c241a2f94"`,
    ]                                                    // arguments
)
```

- `resources()`: query the move contract resources
```typescript
const resources = await lcd.move.resources('0x1')
const resource = await lcd.move.resource('0x1', '0x1::code::ModuleStore')
```

- `modules()`: query the move contract modules
```typescript
const modules = await lcd.move.module('0x1')
const module = await lcd.move.module('0x1', 'object')
```

- `tableInfo()`: query the move contract table info
```typescript
const tableHandle = '0xc8c40eef193fc150fcb54264419bd3e39339c2ee8ba5834aed7826a9841cfb53'
const entryKeyBytes = 'A0vD7ATVOvfCWo1T7H8Pz2MOt5k6rvsScYEGgXe0QDw='

const tableInfo = await lcd.move.tableInfo(tableHandle)
const tableEntries = await lcd.move.tableEntries(tableHandle)
const tableEntry = await lcd.move.tableEntry(tableHandle,entryKeyBytes)
```

## WasmVM

- `contractInfo()`: query the wasm contract info
```typescript
const contractInfo = await lcd.wasm.contractInfo('init14mv62l7x4ducykg0crfa9a22egf8yrltmxzy84zn0wqgmr496jqs5z7k0c')
const contracts = await lcd.wasm.contractsByCode(1) 
```

- `smartContractState()`: query the wasm smart contract state
```typescript
const contractState = await lcd.wasm
  .smartContractState(
    'init1jue5rlc9dkurt3etr57duutqu7prchqrk2mes2227m52kkrual3qdrydg6',  // contract address
    Buffer.from(
      JSON.stringify({                                                  // query data 
        get_stage_info: {
            stage: 1,
        },
      })
    ).toString('base64')
  )
const allContractStates = await lcd.wasm.allContractState('init14mv62l7x4ducykg0crfa9a22egf8yrltmxzy84zn0wqgmr496jqs5z7k0c')
```

## EVM

- `call()`: query the evm contract
```typescript
const contractInfo = JSON.parse(
  fs
    .readFileSync(
      '../solidity/evm-example/artifacts/contracts/example.sol/example.json' // path of build response
    )
    .toString()
);
const contract = new ethers.Contract(contractAddress, contractInfo.abi)

const res = await lcd.evm
  .call(
    'init1jvxywa6dmdxumr9nhdez838af06f9v42w0rd26',    // sender
    '0x16e999092BF37913a3eff185949997b6f7bd698c',     // contract_addr
    contract.interface.encodeFunctionData(
      'getPoints', [2, 0, 10]                         // hex encoded execution input bytes
    ).slice(2),
    false                                             // whether to return the trace
  )
```